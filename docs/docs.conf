[Docs]

# name of the module to documented, DIRAC, voDIRAC, ExtensionDIRAC
module_name = DIRAC

# path to the source folder relative to docs.conf
source_folder = ../src/DIRAC

[Code]
# building code reference
# where to place the code reference
docs_target_path = ./source/CodeDocumentation
# where Custom docstrings can be found, see
# DIRAC/docs/diracdoctools/CustomizedDocs for an example
customdocs_folder = ./diracdoctools/CustomizedDocs

# add :private-members: to autodoc for matching module
document_private_members = FCConditionsParser
# add :no-inherited: to autodoc for matching module
# Useful to avoid markup errors where the inherited members come from a module
# whose docstrings are not reST formatted
no_inherited_members =
  DIRAC.Core.Utilities.Graphs.GraphUtilities,
  DIRAC.DataManagementSystem.private.HttpStorageAccessHandler

# only creating dummy files, because they cannot be safely imported due to sideEffects
create_dummy_files = lfc_dfc_copy, lfc_dfc_db_copy, JobWrapperTemplate, PlotCache,
                     PlottingHandler

# do not include these files in the documentation tree
ignore_folders = diracdoctools, /test, /scripts
ignore_files = setup.py

# To add section Commands
add_commands_section = true

[CFG]
# concatenating ConfigTemplates
# which file to use as a base
base_file = ../dirac.cfg
# where to place the resulting file
target_file = source/AdministratorGuide/Configuration/ExampleConfig.rst

[Commands]
# list of commands which are not executed to get doc files, rst files have to be
# created by hand
ignore_commands =

# mandatory: where to place the RST file
sectionPath = source/CodeDocumentation/Commands

# Name of the RST file, by default index.rst
fileName =

# arbitrary number of these sections can be added, they result in folders with
# rst files for each command matching the pattern.  options are mandatory,
# except indexFile and prefix
[commands.admin]
# mandatory: pattern to match in the full path of the command names.
pattern = admin, accounting, FrameworkSystem, framework, install, utils,
        dirac-repo-monitor, dirac-jobexec, dirac-info, ConfigurationSystem, Core, rss,
        transformation, stager
# title of the section
title = Admin
# this list of patterns will reject scripts that are matched by the patterns above
exclude =
# the scripts in this list are added to the indexFile, but the rst file has to be provided manually
manual =

sectionPath = source/AdministratorGuide/CommandReference

# optional: prefix to add when creating reference anchors, anchor will be prefix_cmd
prefix = admin

[commands.admin.g0]
title = General information
pattern = dirac-admin-service-ports, dirac-platform

[commands.admin.g1]
title = Managing Registry
pattern = group, user, host, shifter, voms-sync
prefix = admin_registry

[commands.admin.g2]
title = Managing Resources
pattern = -site, resources, -allow-, -ban-, bdii-info, ce-info, 
exclude = setup-site, cs-sites
prefix = admin_resources

[commands.admin.g3]
title = Workload management commands
pattern = job, pilot, task
exclude = update-pilot, sync-pilot
prefix = admin_wms

[commands.admin.g4]
title = Transformation management commands
pattern = transformation
prefix = admin_ts

[commands.admin.g5]
title = Managing DIRAC installation
pattern = install, component, ping-service, dirac-service, setup-site, configure, get-CAs, dirac-info, dirac-version, check
prefix = admin_install

[commands.admin.g6]
title = Managing DIRAC software
pattern = deploy, requirements
prefix = admin_software

[commands.admin.g7]
title = User convenience
pattern = utils, myproxy, cert, accounting-d
prefix = admin_user

[commands.admin.g8]
title = ProxyManager management commands
pattern = -proxy
exclude = with
prefix = admin_proxy

[commands.admin.g9]
title = Other commands
pattern = dirac, install
prefix = admin_other

[commands.dms]
pattern = dms
title = Data Management
sectionPath = source/UserGuide/CommandReference/%(title)s

[commands.wms]
pattern = wms
title = Workload Management
sectionPath = source/UserGuide/CommandReference/%(title)s

[commands.z_section3]
pattern = dirac-proxy, dirac-info, myproxy, -resource-
title = Others
sectionPath = source/UserGuide/CommandReference/%(title)s
